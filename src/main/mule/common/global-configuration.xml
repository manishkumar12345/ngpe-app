<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:validation="http://www.mulesoft.org/schema/mule/validation"
	xmlns:os="http://www.mulesoft.org/schema/mule/os"
	xmlns:google-calendar="http://www.mulesoft.org/schema/mule/google-calendar"
	xmlns:email="http://www.mulesoft.org/schema/mule/email" xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns:secure-properties="http://www.mulesoft.org/schema/mule/secure-properties" xmlns:json-logger="http://www.mulesoft.org/schema/mule/json-logger" xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/email http://www.mulesoft.org/schema/mule/email/current/mule-email.xsd 
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
http://www.mulesoft.org/schema/mule/json-logger http://www.mulesoft.org/schema/mule/json-logger/current/mule-json-logger.xsd
http://www.mulesoft.org/schema/mule/secure-properties http://www.mulesoft.org/schema/mule/secure-properties/current/mule-secure-properties.xsd
http://www.mulesoft.org/schema/mule/google-calendar http://www.mulesoft.org/schema/mule/google-calendar/current/mule-google-calendar.xsd
http://www.mulesoft.org/schema/mule/os http://www.mulesoft.org/schema/mule/os/current/mule-os.xsd
http://www.mulesoft.org/schema/mule/validation http://www.mulesoft.org/schema/mule/validation/current/mule-validation.xsd">
	 <http:listener-config name="ngpe-app-httpListenerConfig">
        <http:listener-connection host="0.0.0.0" port="8081" />
    </http:listener-config>
    <apikit:config name="ngpe-app-config" api="ngpe-app.raml" outboundHeadersMapName="outboundHeaders" httpStatusVarName="httpStatus" />
	<configuration-properties doc:name="Configuration properties" doc:id="7aad804d-9167-4706-94ff-ce5943a02ee4" file="${env}.properties" />
	<global-property doc:name="Global Property" doc:id="3b6c9271-1ade-4028-a628-9e70b201890e" name="env" value="local" />
	<db:config name="Database_Config" doc:name="Database Config" doc:id="19c36739-7eec-442f-83f8-7a56e2021043" >
		<db:generic-connection url="${db.host}" driverClassName="${db.driver}" user="${db.username}" password="${secure::db.password}" />
	</db:config>
	<secure-properties:config name="Secure_Properties_Config" doc:name="Secure Properties Config" doc:id="07fe9b88-10ab-40a7-be0f-a06fd03d6fda" file="${env}.properties" key="Mulesoft12345678" >
		<secure-properties:encrypt algorithm="Blowfish" />
	</secure-properties:config>
	<email:smtp-config name="Email_SMTP" doc:name="Email SMTP" doc:id="bdcd9d1a-7933-4d4e-8ee6-10dd8dfeb397" >
		<email:smtp-connection host="${email.host}" port="${email.port}" user="${email.user}" password="${secure::email.password}" />
	</email:smtp-config>
<google-calendar:config name="Google_Calendar_Connector_Config" doc:name="Google Calendar Connector Config" doc:id="9fb4c373-2792-4fc8-b2f4-8365ec5ae199" >
		<google-calendar:oauth2-connection >
			<google-calendar:oauth-authorization-code consumerKey="${calendar.consumer-key}" consumerSecret="${calendar.consumer-secret}" />
			<google-calendar:oauth-callback-config listenerConfig="ngpe-app-httpListenerConfig" callbackPath="${calendar.callback-path}" authorizePath="${calendar.authorize-path}" externalCallbackUrl="${calendar.external-callback-url}" />
		</google-calendar:oauth2-connection>
	</google-calendar:config>
	<os:config name="ObjectStore_Config" doc:name="ObjectStore Config" doc:id="5c6112df-4fc9-48ef-aa1e-f692efbbf7b6" >
		<os:connection >
			<reconnection>
				<reconnect />
			</reconnection>
		</os:connection>
	</os:config>
	<os:object-store name="Object_store" doc:name="Object store" doc:id="6c421b29-a2ed-4550-a961-aba388460dfb" config-ref="ObjectStore_Config" />
	<configuration doc:name="Configuration" doc:id="32749476-6543-418f-9a2e-02ad455cf422" defaultErrorHandler-ref="global-error-handlingError_Handler" />
	<validation:config name="Validation_Config" doc:name="Validation Config" doc:id="28fb9fbe-090f-4e24-9030-f63420cb5b98" />
</mule>
